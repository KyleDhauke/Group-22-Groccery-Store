{% extends "layout.html" %}
{% block content %}
  <head>
    <meta charset="utf-8">
    <title>Shopping Basket</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='Stylesheets/basket.css') }}">
  </head>
  <body>
    <br><br>
    <section class="container content-section">
        {% if products|length == 0 %}
        <div style="text-align: center;">
        <h2 class="section-header" style="text-align: center;">No items in your basket!</h2>
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <a href="{{url_for('products')}}">Continue Shopping</a>
        </div>
        {% else %}
        <h2 class="section-header">Items in your basket</h2>
        <br>
        <table>
          <thead>
            <th class="cart-item cart-header">PRODUCT</th>
            <th class="cart-quantity cart-header">QUANTITY</th>
            <th class="cart-price cart-header">PRICE per unit</th>
          </thead>
          <tbody>
            {% for i in range(products|length) %}
            <tr>
              <td>{{products[i].name}}</td>
              <td>{{quantitys[i]}}</td>
              <td>£{{'%0.2f'| format(products[i].basePrice|float)}}</td>
              <td><a href= "{{url_for('removefromcart', id=products[i].id)}}">Remove</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>

        <div class="cart-total">
            <strong class="cart-total-title">Total</strong>
            <strong class="cart-total-price">£{{'%0.2f'| format(total|float)}}</strong>
        </div>
        <a href="{{ url_for('checkout') }}"><button class="btn btn-primary btn-purchase" type="button">Checkout</button></a>
        {% endif %}
    </section>
  </body>
  {% endblock content %}
